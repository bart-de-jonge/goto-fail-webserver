<link rel="import" href="../bower_components/paper-button/paper-button.html">
<dom-module id="timeline-play-button">
    <template>
        <style>
            paper-button {
                background-color: blue;
            }
        </style>

        <paper-button active="{{active::change}}" toggles raised>{{ text }}</paper-button>
    </template>
    <script>
        (function() {
            class timelinePlayButton {
                beforeRegister() {
                    this.is = "timeline-play-button";

                    this.properties = {
                        active: {
                            type: Boolean,
                            observer: "_activeChanged"
                        },
                        text: {
                            type: String,
                            compute: "computeText(active)",
                            value: "Play"
                        }
                    };
                }

                _activeChanged(newActive, oldActive) {
                    this.text = newActive ? "Pause" : "Play";
                    console.log("Text should be set?");
                    const toggleEvent = new CustomEvent("toggle-play", { "detail": this.active });
                    document.dispatchEvent(toggleEvent);
                }
            }

            Polymer(timelinePlayButton);
        })();
    </script>
</dom-module>
